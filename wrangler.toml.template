# Cloudflare Worker Configuration Template
# 
# NOTE: A wrangler.toml file is now included in the repository for Cloudflare deployments.
# This template is kept for reference or for creating custom configurations.
# 
# For local development, you can copy this file:
# cp wrangler.toml.template wrangler.toml
# Then edit it to set your account_id

name = "chatkit-token-service"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Configure your Cloudflare account_id
# account_id = "your-account-id-here"

# Workers routes (optional - configure based on your domain)
# routes = [
#   { pattern = "example.com/api/chatkit/*", zone_name = "example.com" }
# ]

# Environment variables (non-secret)
[vars]
# ALLOWED_ORIGINS = "https://yourdomain.com,https://www.yourdomain.com"

# Secrets - set these using: wrangler secret put SECRET_NAME
# DO NOT commit actual secret values to version control!
# 
# Required secrets:
# - OPENAI_API_KEY: Your OpenAI API key
# 
# Optional environment variables (can be set in [vars] section above):
# - ALLOWED_ORIGINS: Comma-separated list of allowed CORS origins
#
# Note: ChatKit workflow ID should be set client-side via the 'workflow-id' 
# attribute on the <openai-chatkit> HTML element, not as a server-side secret.
#
# Set secrets with:
#   wrangler secret put OPENAI_API_KEY

# Observability configuration (wrangler v3.88.0^)
[observability]
enabled = false

[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true

# Placement configuration
[placement]
mode = "smart"
